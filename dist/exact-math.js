var exactMath=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(module,exports,__webpack_require__){module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){return e||window}.bind(void 0);t.exports=function(t,e){var o,u=arguments.length>=2,i="string"==typeof e,f="function"==typeof e,c=void 0===e,s=void 0===t,l=null===e,a=null===t,y="object"===(void 0===t?"undefined":n(t)),d=!l&&"object"===(void 0===e?"undefined":n(e))&&"Array"===e.constructor.name,p=e&&"RegExp"===e.constructor.name,m=/^\[object Arguments\]$/i;if(!u)return!1;if(l)return a;if(c)return void 0===t;if(f)return!s&&!a&&Object.getPrototypeOf(t).constructor.name===e.name;if(d){if(!e.length)return!0;var b=!0,v=!1,g=void 0;try{for(var j,O=e[Symbol.iterator]();!(b=(j=O.next()).done);b=!0){var h=j.value;if(null===h&&a)return!0;if(void 0===h&&s)return!0;if(!a&&!s&&null!==h&&void 0!==h&&Object.getPrototypeOf(t).constructor.name===h.name)return!0}}catch(t){v=!0,g=t}finally{try{!b&&O.return&&O.return()}finally{if(v)throw g}}return!1}if(i){var x=e.toLowerCase().split("|");return!!(1===x.length&&""===x[0]||x.some(function(t){return"any"===t}))||!(!x.some(function(t){return"truthy"===t})||!t)||!(!x.some(function(t){return"falsy"===t})||t)||!(!s||!x.some(function(t){return"undefined"===t}))||!(!a||!x.some(function(t){return"null"===t}))||!a&&void 0!==t&&(o=Object.getPrototypeOf(t).constructor,!!(m.test(t.toString())&&o&&"Object"===o.name&&x.some(function(t){return"arguments"===t}))||!!(x.some(function(t){return"instance"===t})&&y&&o&&o!==r()[o.name])||x.some(function(e){return e===Object.getPrototypeOf(t).constructor.name.toLowerCase()}))}return!!p&&(!(!e.test("any")&&!e.test(""))||!(!e.test("truthy")||!t)||!(!e.test("falsy")||t)||!(!e.test("undefined")||!s)||!(!e.test("null")||!a)||!a&&void 0!==t&&(o=Object.getPrototypeOf(t).constructor,!!(e.test("arguments")&&o&&"Object"===o.name&&m.test(t.toString()))||!!(e.test("instance")&&y&&o&&o!==r()[o.name])||e.test(Object.getPrototypeOf(t).constructor.name)))}}).call(this,n(0))}])},function(module,exports,__webpack_require__){const args=__webpack_require__(2),type=__webpack_require__(0),moduleName="move-on";class Utils{constructor(l){Object.defineProperty(this,"_listLength",{value:l})}_add(i,arr){let args=type(arr,"arguments")?Array.prototype.slice.call(arr,0):arr;this[i]=args}get missing(){const list=[];for(let i=0;i<this._listLength;i++)type(this[i],Array)||list.push(i);return list}forEach(callback){args(arguments,[Function],o=>{throw new TypeError(`${moduleName}: forEach: ${o.message}`)});for(let argsIndex of Object.keys(this))callback(this[argsIndex],Number(argsIndex),this)}forAll(callback){args(arguments,[Function],o=>{throw new TypeError(`${moduleName}: forAll: ${o.message}`)});for(let argsIndex of Object.keys(this))for(let itemIndex in this[argsIndex])callback(this[argsIndex][itemIndex],Number(argsIndex),Number(itemIndex),this)}}class Resolved extends Utils{constructor(l){super(l)}}class Rejected extends Utils{constructor(l){super(l)}}class Timeout{constructor({time:time,callback:callback}){this._time=time,this._callback=callback,this._pending=!1,this._timedOut=!1,this._quietMode=!1,this._mount()}get timedOut(){return this._timedOut}get _timeoutError(){const err=new Error;return err.message=`Timeout. The chained function did not respond in the expected time of ${this._time} ms.`,err.info="timeout",err.code="ETIMEDOUT",err}_mount(){this._pending=!0,this._timer=setTimeout(()=>{this._pending=!1,this._timedOut=!0,this._quietMode||this._callback(this._timeoutError)},this._time)}unmount(){this._pending&&(clearTimeout(this._timer),this._pending=!1)}quiet(){this._pending&&(this._quietMode=!0)}}class MoveOn{constructor(mode,args){this._mode=mode,this._init(...args)}get error(){return{incorrectListItem:i=>new TypeError(`${moduleName}: Invalid argument [0]. Incorrect [${i}] item type. The item of [Function|Array] type is expected.`),incorrectObjectItem:i=>new TypeError(`${moduleName}: Invalid argument [0]. Incorrect [${i}][0] item. The item of [Object] type is expected.`),incorrectMethodItem:(i,index)=>new TypeError(`${moduleName}: Invalid argument [0]. Incorrect [${i}][${index}] item. The [Function|String] item is expected.`),incorrectMethodName:(name,i,index)=>new TypeError(`${moduleName}: Invalid argument [0]. Incorrect [${i}][${index}] item. The given [${i}][0] object does not define ["${name}"] method.`)}}get defaults(){return{timeout:1e4,bind:!0,context:{},passContext:!0}}get listLength(){let iter=0;for(let i=0;i<this.list.length;i++)type(this.list[i],Function)?iter++:type(this.list[i],Array)&&(iter+=this.list[i].length-1);return iter}get timeoutConfig(){return{time:this.config.timeout,callback:this.finalCatch}}get timeoutDefined(){return!(null===this.config.timeout||this.config.timeout===1/0)}_validateArguments(argumentsObject){const validationTypes=[Array,[Object,null],Function,Function];args(argumentsObject,validationTypes,o=>{throw new TypeError(`${moduleName}: ${o.message}`)})}_validateFunctionList(list){this.list=list;for(let i in this.list){let fun=this.list[i];if(!type(fun,[Function,Array]))throw this.error.incorrectListItem(i);if(type(fun,Array)){if(0===fun.length)continue;if(!type(fun[0],"Object|instance"))throw this.error.incorrectObjectItem(i);fun.forEach((item,index)=>{if(0!==index&&!type(item,[String,Function]))throw this.error.incorrectMethodItem(i,index);if(0!==index&&type(item,String)&&!type(fun[0][item],Function))throw this.error.incorrectMethodName(item,i,index)})}}}_validateConfig(config){this.config=this.defaults,type(config,null)||((config.hasOwnProperty("timeout")&&type(config.timeout,null)||type(config.timeout,Number)&config.timeout>=0&Math.round(config.timeout)===config.timeout&&!isNaN(config.timeout))&&(this.config.timeout=config.timeout),config.hasOwnProperty("bind")&&type(config.bind,Boolean)&&(this.config.bind=config.bind),config.hasOwnProperty("context")&&type(config.context,"Object|instance")&&(this.config.context=config.context),config.hasOwnProperty("passContext")&&type(config.passContext,Boolean)&&(this.config.passContext=config.passContext))}_init(list,config,onDone,onCatch){this._validateArguments(arguments),this._validateFunctionList(list),this._validateConfig(config),this.finalCatch=this._bind({caller:onCatch}),this.finalDone=this._bind({caller:onDone,reject:this.finalCatch}),this[this._mode]()}_moveOn(){this.list.reduceRight((chain,next)=>{if(type(next,Function)){let config={caller:next,resolve:chain,reject:this.finalCatch,timeout:!0};return this._bind(config)}let innerContext=next[0];return next.reduceRight((innerChain,innerNext,index)=>0===index?innerChain:this._bind({caller:[innerContext,innerNext],resolve:innerChain,reject:this.finalCatch,timeout:!0}),chain)},this.finalDone)()}_moveAll(){const alreadyResolvedMap=new Map,timeout=this.timeoutDefined?new Timeout(this.timeoutConfig):null,resolveData=new Resolved(this.listLength);let alreadyRejected=!1,iterator=0;const callback=(iter,resolve)=>(function(){!0===alreadyResolvedMap.get(iter)||alreadyRejected||(resolve?(alreadyResolvedMap.set(iter,!0),resolveData._add(iter,arguments),++iterator===this.listLength&&(timeout&&timeout.unmount(),timeout&&timeout.timedOut||this.finalDone(resolveData))):(timeout&&timeout.unmount(),timeout&&timeout.timedOut||this.finalCatch(...arguments),alreadyRejected=!0))}).bind(this);this._loopChain((item,iter,stop)=>{if(this._bind({caller:item,resolve:callback(iter,!0),reject:callback(iter,!1)})(),alreadyRejected)return stop()},this.finalDone)}_moveEach(){const alreadyResolvedMap=new Map,timeout=this.timeoutDefined?new Timeout(this.timeoutConfig):null,resolveData=new Resolved(this.listLength);let iterator=0;const callback=(iter,resolve)=>(function(){!0!==alreadyResolvedMap.get(iter)&&(alreadyResolvedMap.set(iter,!0),resolve&&resolveData._add(iter,arguments),resolve||timeout&&timeout.timedOut||this.finalCatch(...arguments),++iterator===this.listLength&&(timeout&&timeout.unmount(),timeout&&timeout.timedOut||this.finalDone(resolveData)))}).bind(this);this._loopChain((item,iter)=>{this._bind({caller:item,resolve:callback(iter,!0),reject:callback(iter,!1)})()},this.finalDone)}_moveFirst(){const alreadyRejectedMap=new Map,timeout=this.timeoutDefined?new Timeout(this.timeoutConfig):null,rejectData=new Rejected(this.listLength);let alreadyResolved=!1,iterator=0;const callback=(iter,resolve)=>(function(){!0===alreadyRejectedMap.get(iter)||alreadyResolved||(resolve?(timeout&&timeout.unmount(),timeout&&timeout.timedOut||this.finalDone(...arguments),alreadyResolved=!0):(alreadyRejectedMap.set(iter,!0),rejectData._add(iter,arguments),++iterator===this.listLength&&(timeout&&timeout.unmount(),timeout&&timeout.timedOut||this.finalCatch(rejectData))))}).bind(this);this._loopChain((item,iter,stop)=>{if(this._bind({caller:item,resolve:callback(iter,!0),reject:callback(iter,!1)})(),alreadyResolved)return stop()},this.finalDone)}_loopChain(callback,empty){let iter=0,stop=()=>shouldStop=!0,shouldStop=!1;for(let item of this.list){if(type(item,Function))callback(item,iter++,stop);else for(let i=1;i<item.length&&(callback([item[0],item[i]],iter++,stop),!shouldStop);i++);if(shouldStop)break}0===iter&&empty()}_bind({caller:caller,resolve:resolve,reject:reject,timeout:timeout}={}){const context=this.config.passContext?[this.config.context]:[];return function(){const timer=this.timeoutDefined&&timeout?new Timeout(this.timeoutConfig):null,defaults=[];this._middleChain(defaults,resolve,"resolve",timer),this._middleChain(defaults,reject,"reject",timer);const args=[...defaults,...context];return type(caller,Array)?type(caller[1],Function)?caller[1].call(caller[0],...args,...arguments):caller[0][caller[1]](...args,...arguments):this.config.bind?caller.call(this.config.context,...args,...arguments):caller(...args,...arguments)}.bind(this)}_middleChain(arr,next,name,timer){type(next,Function)&&arr.push(Object.defineProperty(function(){timer&&timer.quiet(),timer&&timer.timedOut||next(...arguments)}.bind(this),"name",{value:name}))}}const statics={all:{value:function(){new MoveOn("_moveAll",arguments)}},each:{value:function(){new MoveOn("_moveEach",arguments)}},first:{value:function(){new MoveOn("_moveFirst",arguments)}}};module.exports=Object.defineProperties(function(){new MoveOn("_moveOn",arguments)},statics)},function(module,exports,__webpack_require__){const ofType=__webpack_require__(0);function getActualType(actualValue){return ofType(actualValue,null)?"null":ofType(actualValue,void 0)?"undefined":ofType(actualValue,"arguments")?"arguments":actualValue.constructor.name}function getExpectedTypes(expectedType){var types=[whenString,whenRegExp,whenObject,whenArray];for(var type of types){var check=type(expectedType);if(check)return check}throw new TypeError("typeof-arguments: The expected type is not callable.")}function whenString(stringType){if(!ofType(stringType,String))return null;var msg=`argument of type matching string expression "${stringType}"`,truthness="";return stringType.split("|").forEach(i=>{"truthy"===i.toLowerCase()&&(truthness="<<falsy>> "),"falsy"===i.toLowerCase()&&(truthness="<<truthy>> ")}),{message:msg,truthness:truthness,expected:stringType}}function whenRegExp(regType){return ofType(regType,RegExp)?{message:`argument of type matching regular expression ${regType}`,truthness:function(regType){var isCaseInsensitive=regType.flags.match(/i/),str=regType.toString();return(str=isCaseInsensitive?str.toLowerCase():str).match(/truthy/)?"<<falsy>> ":str.match(/falsy/)?"<<truthy>> ":""}(regType),expected:regType.toString()}:null}function whenObject(objectType){return ofType(objectType,null)?{message:"argument of type [null]",truthness:"",expected:"null"}:ofType(objectType,void 0)?{message:"argument of type [undefined]",truthness:"",expected:"undefined"}:ofType(objectType,Function)?{message:`argument of type [${objectType.name}]`,truthness:"",expected:objectType.name}:null}function whenArray(arrayTypes){if(!ofType(arrayTypes,Array))return null;var types={};for(var type of arrayTypes){var exp=whenObject(type);if(ofType(exp,null))return null;types[exp.expected]=exp.expected}var expected=Object.getOwnPropertyNames(types).join("|");return{message:`argument of type [${expected}]`,truthness:"",expected:expected}}module.exports=function(getArgumentsObject,getExpectedArray,callbackFunction){const clb=ofType(callbackFunction,"function");!function(a,o){const isActualArguments=ofType(a,"arguments"),isExpectedArray=ofType(o,Array);if(!isActualArguments)throw new TypeError("typeof-arguments: Invalid module argument. The first argument must be [arguments] Object.");if(!isExpectedArray)throw new TypeError("typeof-arguments: Invalid module argument. The second argument must be of type [Array].")}(getArgumentsObject,getExpectedArray);for(var i=0;i<getExpectedArray.length;i++)if(!ofType(getArgumentsObject[i],getExpectedArray[i])){var actual=getActualType(getArgumentsObject[i]),types=getExpectedTypes(getExpectedArray[i]),message=`Invalid argument [${i}]. The [${actual}] ${types.truthness}argument has been passed, while the ${types.message} is expected.`;if(clb)return callbackFunction({actual:actual,expected:types.expected,message:message,index:Number(i)}),!1;throw new TypeError(message)}return!0}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var of_type_min=__webpack_require__(0),of_type_min_default=__webpack_require__.n(of_type_min);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var class_sub=function(){function Sub(data){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Sub),this._turnNegatives(data.digits),new class_add(data)}var Constructor,protoProps,staticProps;return Constructor=Sub,staticProps=[{key:"_subDigits",value:function(minuend,subtrahend,negative){var longestAfter=minuend.after.length>subtrahend.after.length?minuend.after.length:subtrahend.after.length,longestBefore=minuend.before.length>subtrahend.before.length?minuend.before.length:subtrahend.before.length,borrowed=!1,subAfter=subtract(longestAfter,"after"),subBefore=subtract(longestBefore,"before");return new class_digit({before:subBefore,after:subAfter,e:0,negative:negative});function subtract(longest,side){for(var arr=[],x=longest-1;x>=0;x--){var ax="after"===side?x:x-(longest-minuend[side].length),bx="after"===side?x:x-(longest-subtrahend[side].length),a=Number(minuend[side][ax])||0,b=Number(subtrahend[side][bx])||0;borrowed&&(0==a?a=9:(a--,borrowed=!1)),a<b?(arr[x]=10+a-b,borrowed=!0):arr[x]=a-b}return arr}}}],(protoProps=[{key:"_turnNegatives",value:function(digits){for(var i=1;i<digits.length;i++)digits[i].negative=!digits[i].negative}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Sub}(),isInteger=function(value){return value%1==0},fill=function(value,length){for(var arr=[],i=0;i<length;i++)arr[i]=value;return arr},cutTens=function(arr,x){if(arr[x]<=9)return 0;var unities=arr[x]%10,tens=(arr[x]-unities)/10;return arr[x]=unities,tens},isBigger=function(a,b){if(a.before.length>b.before.length)return!0;if(a.before.length<b.before.length)return!1;for(var _i=0;_i<a.before.length;_i++){var x=Number(a.before[_i]),y=Number(b.before[_i]);if(x>y)return!0;if(x<y)return!1}for(var i=0;;){var _x=Number(a.after[i]),_y=Number(b.after[i]);if(Number.isNaN(_x)&&Number.isNaN(_y))return!1;if(_x>_y||Number.isNaN(_y))return!0;if(_x<_y||Number.isNaN(_x))return!1;i++}},reducer=function(arr,callback,initial){for(var hasInitial=arguments.length>=3,total=hasInitial?initial:arr[0],i=hasInitial?0:1;i<arr.length;i++){total=callback(total,arr[i])}return total},collectionVariables=function(collection,index){var first=0===index,last=index===collection.length-1;return{first:first,last:last,item:collection[index],index:index,previous:first?null:collection[index-1],next:last?null:collection[index+1]}};function class_add_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var class_add=function(){function Add(_ref){var digits=_ref.digits,_ref$addToFirst=_ref.addToFirst,addToFirst=void 0!==_ref$addToFirst&&_ref$addToFirst;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Add),this.beforeTens=0,this.addToFirst=addToFirst;var digitMap={neg:[],pos:[]},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=digits[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var digit=_step.value;digitMap[digit.negative?"neg":"pos"].push(digit),digit.removeE()}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var hasPositiveType=!!digitMap.pos.length,hasNegativeType=!!digitMap.neg.length;if(!hasNegativeType||!hasPositiveType)return this._addDigits(digitMap[hasPositiveType?"pos":"neg"],hasNegativeType);var negativesSum=1===digitMap.neg.length?digitMap.neg[0]:this._addDigits(digitMap.neg,!0),positivesSum=1===digitMap.pos.length?digitMap.pos[0]:this._addDigits(digitMap.pos,!1),biggerNegative=isBigger(negativesSum,positivesSum),minuend=biggerNegative?negativesSum:positivesSum,subtrahend=biggerNegative?positivesSum:negativesSum;return class_sub._subDigits(minuend,subtrahend,biggerNegative)}var Constructor,protoProps,staticProps;return Constructor=Add,(protoProps=[{key:"_addDigits",value:function(digits,negative){switch(digits.reduce(this._reduceAfter.bind(this)),digits.reduce(this._reduceBefore.bind(this)),this.addToFirst){case!0:return digits[0].before=this.sumBefore,digits[0].after=this.sumAfter,digits[0].e=0,digits[0].negative=negative,digits[0];default:return new class_digit({before:this.sumBefore,after:this.sumAfter,e:0,negative:negative})}}},{key:"_reduceAfter",value:function(a,b,index,arr){for(var longer=a.after.length>b.after.length?a:b,l=longer.after,s=longer===a?b.after:a.after,localRest=0,i=s.length-1;i>=0;i--)l[i]=Number(l[i])+Number(s[i])+localRest,localRest=cutTens(l,i);return this.beforeTens+=localRest,localRest=0,index===arr.length-1&&(this.sumAfter=l),longer}},{key:"_reduceBefore",value:function(a,b,index,arr){for(var longer=a.before.length>b.before.length?a:b,l=longer.before,s=longer===a?b.before:a.before,i=0;i<l.length;i++){var x=s.length-1-i,y=l.length-1-i;if(l[y]=Number(l[y])+(x>=0?Number(s[x]):0)+this.beforeTens,this.beforeTens=cutTens(l,y),0===x&&0===this.beforeTens)break}return this.beforeTens>0&&l.unshift(this.beforeTens),this.beforeTens=0,index===arr.length-1&&(this.sumBefore=l),longer}}])&&class_add_defineProperties(Constructor.prototype,protoProps),staticProps&&class_add_defineProperties(Constructor,staticProps),Add}();function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function class_rounding_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function class_rounding_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var class_rounding_Rounding=function(){function Rounding(_ref,action){var digit=_ref.digit,places=_ref.places;if(class_rounding_classCallCheck(this,Rounding),this.action=action,this.digit=digit,this.digit.removeE(),this.places=places,0===this.places)return this.digit;this.mode=this.places>0?"before":"after";var zeros="before"===this.mode?this.places-1:0;"after"===this.mode&&(this.places*=-1),"before"===this.mode&&(this.places=this.digit.before.length-this.places+1);var roundNumber=this._reduceRight();return null===roundNumber?new class_digit({before:[0],after:[],e:0,negative:!1}):(this._round(roundNumber),this._addZeros(zeros),this.digit.trimZeros(),this.digit)}var Constructor,protoProps,staticProps;return Constructor=Rounding,(protoProps=[{key:"_reduceRight",value:function(){return"ceil"!==this.action&&this.places<0&&"before"===this.mode?null:(this.places<0&&(this.places=0),this.digit[this.mode].splice(this.places,this.digit[this.mode].length-this.places).concat("before"===this.mode?this.digit.after.splice(0,this.digit.after.length):[]))}},{key:"_round",value:function(reduced){function moveLeft(){for(var i=this.digit.after.length-1;i>=0;i--){if(Number(this.digit.after[i])<10)return;var afterEnd=i-1<0;i===this.digit.after.length-1?this.digit.after.pop():this.digit.after[i]=0,this.digit[afterEnd?"before":"after"][afterEnd?this.digit.before.length-1:i-1]++}for(var _i=this.digit.before.length-1;_i>=0;_i--){if(Number(this.digit.before[_i])<10)return;var beforeEnd=_i-1<0;this.digit.before[_i]=0,beforeEnd?this.digit.before.unshift(1):this.digit.before[_i-1]++}}"floor"!==this.action&&reduced.length&&("round"===this.action?function(){return Number(reduced[0])>=5}.call(this):function(){for(var i in reduced)if(Number(reduced[i])>0)return!0;return!1}.call(this))&&(this.digit.after.length?(this.digit.after[this.digit.after.length-1]++,moveLeft.call(this)):this.digit.before.length?(this.digit.before[this.digit.before.length-1]++,moveLeft.call(this)):this.digit.before[0]=1)}},{key:"_addZeros",value:function(zeros){var _this$digit$before;this.digit.before.length?(_this$digit$before=this.digit.before).push.apply(_this$digit$before,_toConsumableArray(fill(0,zeros))):this.digit.before[0]=0}}])&&class_rounding_defineProperties(Constructor.prototype,protoProps),staticProps&&class_rounding_defineProperties(Constructor,staticProps),Rounding}(),Round=function(_Rounding){function Round(data){return class_rounding_classCallCheck(this,Round),_possibleConstructorReturn(this,_getPrototypeOf(Round).call(this,data,"round"))}return _inherits(Round,class_rounding_Rounding),Round}(),Ceil=function(_Rounding2){function Ceil(data){return class_rounding_classCallCheck(this,Ceil),_possibleConstructorReturn(this,_getPrototypeOf(Ceil).call(this,data,"ceil"))}return _inherits(Ceil,class_rounding_Rounding),Ceil}(),Floor=function(_Rounding3){function Floor(data){return class_rounding_classCallCheck(this,Floor),_possibleConstructorReturn(this,_getPrototypeOf(Floor).call(this,data,"floor"))}return _inherits(Floor,class_rounding_Rounding),Floor}();function class_digit_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function class_digit_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var class_digit=function(){function Digit(o){if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Digit),of_type_min_default()(o,Object))this.negative=o.negative,this.before=o.before,this.after=o.after,this.e=o.e;else{this.print=of_type_min_default()(o,String)?o:String(o);var parts=/^\s*([+-]?)(\d*)(?:(?:([.,])(\d+)))?(?:e([+-]\d+))?\s*$/.exec(this.print);this.negative="-"===parts[1],this.before=(parts[2]||"0").split(""),this.after=(parts[4]||"").split(""),this.e=parts[5]?Number(parts[5]):0}this.trimZeros()}var Constructor,protoProps,staticProps;return Constructor=Digit,(protoProps=[{key:"trimZeros",value:function(){for(;this.before.length>1&&0==this.before[0];)this.before.shift();for(;this.after.length&&0==this.after[this.after.length-1];)this.after.pop();this.before.length||(this.before[0]=0)}},{key:"setExponential",value:function(eMinus,ePlus){if(!this.after.length&&this.before.length>=ePlus)for(;this.before.length>1&&0==this.before[this.before.length-1];)this.before.pop(),this.e++;else if(this.beforeEqualsZero&&this.after.length>=eMinus){for(;0==this.after[0];)this.after.shift(),this.e--;this.before[0]=this.after.shift(),this.e--}}},{key:"reduceE",value:function(){if(this.e>0){var _this$before,spliced=this.after.splice(0,this.e);(_this$before=this.before).push.apply(_this$before,class_digit_toConsumableArray(spliced)),this.e=this.e-spliced.length}if(this.e<0){var _this$after,diff=this.before.length+this.e,position=diff<0?0:diff,_spliced=this.before.splice(position,this.before.length-position);(_this$after=this.after).unshift.apply(_this$after,class_digit_toConsumableArray(_spliced)),this.e=this.e+_spliced.length,this.before.length||(this.before[0]=0)}this.trimZeros()}},{key:"removeE",value:function(e){var _this$before2,_this$after2;of_type_min_default()(e,Number)&&(this.e+=e),this.reduceE(),this.e>0&&(_this$before2=this.before).push.apply(_this$before2,class_digit_toConsumableArray(fill(0,this.e))),this.e<0&&(_this$after2=this.after).unshift.apply(_this$after2,class_digit_toConsumableArray(fill(0,-1*this.e))),this.e=0}},{key:"toString",value:function(){return(!this.negative||this.beforeEqualsZero&&!this.after.length?"":"-")+(this.before.length?this.before.join(""):"0")+(this.after.length?"."+this.after.join(""):"")+(this.e>0?"e+"+String(this.e):this.e<0?"e"+String(this.e):"")}},{key:"toIntegers",value:function(){var _this$before3;this.after.length&&(this.e-=this.after.length,(_this$before3=this.before).push.apply(_this$before3,class_digit_toConsumableArray(this.after.splice(0,this.after.length))));this.e>0&&this.removeE(),this.trimZeros()}},{key:"negate",value:function(){this.negative=!this.negative}},{key:"floor",value:function(places){new Floor({digit:this,places:places})}},{key:"round",value:function(places){new Round({digit:this,places:places})}},{key:"add",value:function(digit){new class_add({digits:[this,digit],addToFirst:!0})}},{key:"equalsZero",get:function(){return 0==this.toString()}},{key:"equalsTenths",get:function(){return this.trimZeros(),!(1!=this.before[0]||this.after.length||!this.before.every(function(a,ind){return 0===ind||0==a}))||!(1!=this.after[this.after.length-1]||!this.beforeEqualsZero||!this.after.every(function(a,ind,arr){return ind===arr.length-1||0==a}))}},{key:"beforeEqualsZero",get:function(){return 1===this.before.length&&0==this.before[0]}}])&&class_digit_defineProperties(Constructor.prototype,protoProps),staticProps&&class_digit_defineProperties(Constructor,staticProps),Digit}();function class_mul_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var class_mul=function(){function Mul(_ref){var result,_this=this,digits=_ref.digits,_ref$zeroValue=_ref.zeroValue,zeroValue=void 0===_ref$zeroValue?-1:_ref$zeroValue,_ref$power=_ref.power,power=void 0===_ref$power?null:_ref$power;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Mul),zeroValue>=0)return new class_digit({before:[0],after:[],e:0,negative:!1});if(digits[0].toIntegers(),null===power)result=digits.reduce(function(a,b){return b.toIntegers(),_this.constructor._mulDigits(a,b)});else{result=digits[0];for(var i=0;i<power-1;i++)result=this.constructor._mulDigits(result,digits[0])}return result.removeE(),result}var Constructor,protoProps,staticProps;return Constructor=Mul,staticProps=[{key:"_mulDigits",value:function(a,b){var sum=[],sumLength=a.before.length+b.before.length-1,aTenths=a.equalsTenths,bTenths=b.equalsTenths;if(aTenths||bTenths)return aTenths&&a.setExponential(1,1),bTenths&&b.setExponential(1,1),new class_digit({before:aTenths?b.before.slice():a.before.slice(),after:aTenths?b.after.slice():a.after.slice(),e:a.e+b.e,negative:!(a.negative&&b.negative||!a.negative&&!b.negative)});for(var posX=sumLength-1,x=a.before.length-1;x>=0;x--,posX--)for(var posY=0,y=b.before.length-1;y>=0;y--,posY++)sum[posX-posY]=sum[posX-posY]||0,sum[posX-posY]+=a.before[x]*b.before[y];for(var i=sum.length-1;i>=0;i--){var rest=cutTens(sum,i);i-1>=0&&(sum[i-1]+=rest)}for(;rest>0;)sum.unshift(rest),rest=cutTens(sum,0);return new class_digit({before:sum,after:[],e:a.e+b.e,negative:!(a.negative&&b.negative||!a.negative&&!b.negative)})}}],(protoProps=null)&&class_mul_defineProperties(Constructor.prototype,protoProps),staticProps&&class_mul_defineProperties(Constructor,staticProps),Mul}();function class_div_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var class_div=function(){function Div(_ref){var _this=this,maxDecimal=_ref.maxDecimal,digits=_ref.digits,divideByZeroError=_ref.divideByZeroError,divisionError=_ref.divisionError;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Div),this.maxDecimal=maxDecimal,this._mapZeroDigits(digits),this.zeroDigits.first&&null===this.zeroDigits.next?new class_digit(0):this.zeroDigits.next?divisionError(divideByZeroError,this.zeroDigits.next):(this.result=reducer(digits,function(dividend,divisor){return _this._divDigits(dividend,divisor,!1)}),this.result.round(0===this.maxDecimal?1:-this.maxDecimal),this.result.removeE(),this.result)}var Constructor,protoProps,staticProps;return Constructor=Div,(protoProps=[{key:"_mapZeroDigits",value:function(digits){var _this2=this;this.zeroDigits={first:!1,next:null},digits.some(function(digit,index){if(digit.equalsZero){if(0!==index)return _this2.zeroDigits.next=index,!0;_this2.zeroDigits.first=!0}})}},{key:"_divDigits",value:function(dividend,divisor){var getExponential=function(){return-(divisor.e-dividend.e)},getNegative=function(){return!(dividend.negative&&divisor.negative||!dividend.negative&&!divisor.negative)};if(divisor.equalsTenths)return divisor.setExponential(1,1),dividend.e=getExponential(),dividend.negative=getNegative(),dividend;dividend.toIntegers(),divisor.toIntegers();var finalExponential=getExponential(),finalNegative=getNegative();divisor.negative=!1,divisor.e=0;for(var mul,sub,resultDigit=new class_digit(0),safeDivisor=extractSafeInteger(divisor,14),moveExponential=0;;){dividend.negative=!1,dividend.e=0;var safeDividend=extractSafeInteger(dividend,15),approxResult=Math.floor(safeDividend.value/safeDivisor.value);if(approxResult<1){var extraExponential=safeDivisor.extracted.length-safeDividend.extracted.length||1;dividend.removeE(extraExponential),moveExponential-=extraExponential}else{var approxDigit=new class_digit(approxResult);if(approxDigit.e=safeDividend.left-safeDivisor.left,mul=new class_mul({digits:[approxDigit,divisor]}),sub=new class_sub({digits:[dividend,mul]}),approxDigit.e+=moveExponential,resultDigit.add(approxDigit),dividend=sub,!isBigger(divisor,sub))continue}if(sub&&0==sub.toString()||resultDigit.after.length-finalExponential>=this.maxDecimal+1)break}return resultDigit.e=finalExponential,resultDigit.negative=finalNegative,resultDigit.floor(-(this.maxDecimal+1)),resultDigit;function extractSafeInteger(digit,num){var extracted=digit.before.slice(0,num);return{extracted:extracted,left:digit.before.length-extracted.length,value:Number(extracted.join(""))}}}}])&&class_div_defineProperties(Constructor.prototype,protoProps),staticProps&&class_div_defineProperties(Constructor,staticProps),Div}();var class_power=function Power(_ref){var digit=_ref.digit,power=_ref.power;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Power),this.digit=digit,this.power=power,this.digitPower=new class_digit(this.power),this.digitPower.equalsZero?new class_digit({before:[1],after:[],e:0,negative:!1}):this.digit.equalsZero?new class_digit({before:[0],after:[],e:0,negative:!1}):this.digit.equalsTenths?(this.digit.setExponential(1,1),this.digit.e*=this.power,this.digit.removeE(),this.digit):new class_mul({digits:[this.digit],power:this.power})},src=__webpack_require__(1),src_default=__webpack_require__.n(src);function class_formula_typeof(obj){return(class_formula_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function class_formula_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function class_formula_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function class_formula_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function class_formula_createClass(Constructor,protoProps,staticProps){return protoProps&&class_formula_defineProperties(Constructor.prototype,protoProps),staticProps&&class_formula_defineProperties(Constructor,staticProps),Constructor}var class_formula_Scope=function(){function Scope(arr){var openIndex=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,closeIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:arr.length-1;class_formula_classCallCheck(this,Scope),this.elements=arr.splice(openIndex,closeIndex-openIndex+1),this.print=this.printScope(this.elements),"("===this.elements[0]&&this.elements.shift(),")"===this.elements[this.elements.length-1]&&this.elements.pop()}return class_formula_createClass(Scope,[{key:"printScope",value:function(elements){var message="",_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=elements[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var elem=_step.value;of_type_min_default()(elem,String)&&(message+=elem),of_type_min_default()(elem,Scope)&&(message+=elem.print)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return message}}]),Scope}(),Char=function(){function Char(char,type){class_formula_classCallCheck(this,Char),this.type=type,this.print=char,this.adjacent=!/\s$/.test(char)}return class_formula_createClass(Char,[{key:"digitChar",get:function(){return(this.add||this.sub)&&/[+-]$/.test(this.print)}},{key:"add",get:function(){return"add"===this.type}},{key:"sub",get:function(){return"sub"===this.type}},{key:"mul",get:function(){return"mul"===this.type}},{key:"div",get:function(){return"div"===this.type}}]),Char}(),class_formula=function(){function Formula(_ref){var _this=this,formula=_ref.formula,chars=_ref.chars,maxDecimal=_ref.maxDecimal,invalidError=_ref.invalidError,divisionError=_ref.divisionError,unsafeError=_ref.unsafeError;class_formula_classCallCheck(this,Formula),this.maxDecimal=maxDecimal,this.invalidError=invalidError,this.divisionError=divisionError,this.unsafeError=unsafeError,this.result=null;var list=[this,"_seekIllegalChars","_cutParentheses","_validateParentheses","_createParenthesesScopes","_resolveParenthesesScopes"],digitTemplate="\\d*[".concat(chars.decimalChar,"]?\\d+(?:e[+-]\\d+)?"),context={formula:formula,chars:chars,reg:{split:new RegExp("\\s*((".concat(digitTemplate,")|([-+").concat(chars.divChar).concat(chars.mulChar,"])|(.))\\s*"),"g"),digitRegExp:new RegExp("^\\s*".concat(digitTemplate,"\\s*$")),charsRegExp:new RegExp("^\\s*(?:([+])|([-])|([".concat(chars.mulChar,"])|([").concat(chars.divChar,"]))\\s*$"))}};if(src_default()([list],{context:context,timeout:null},function(reject,ctx,result){return _this.result=result},function(ctx,_ref2){var type=_ref2.type,error=_ref2.error,_ref2$args=_ref2.args,args=void 0===_ref2$args?[]:_ref2$args;return type(error.apply(void 0,class_formula_toConsumableArray(args)))}),null!==this.result)return this.result}return class_formula_createClass(Formula,[{key:"_seekIllegalChars",value:function(resolve,_,ctx){if(/^\s*$/.test(ctx.formula))return this.invalidError(this.errorDefaults.emptyFormula());var reg=new RegExp("[^0-9e()\\s-+".concat(ctx.chars.decimalChar).concat(ctx.chars.divChar).concat(ctx.chars.mulChar,"]")),illegal=ctx.formula.match(reg);if(illegal&&illegal.length)return this.invalidError(this.errorDefaults.illegalCharacter(illegal[0]));resolve()}},{key:"_cutParentheses",value:function(resolve,_,ctx){var reg=/(\(|\))/g;ctx.allCollection=ctx.formula.split(reg),ctx.parenthesesCollection=ctx.formula.match(reg),resolve()}},{key:"_validateParentheses",value:function(resolve,_,ctx){var open=0,close=0,order=0,invalidOrder=!1;if(!ctx.parenthesesCollection)return resolve();var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=ctx.parenthesesCollection[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var p=_step2.value;"("===p&&(open++,order++),")"===p&&(close++,order--),order<0&&(invalidOrder=!0)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}if(open!==close){var missing={side:open>close?"closing":"opening",num:Math.abs(open-close)};return this.invalidError(this.errorDefaults.missingParenthesis(missing.side,missing.num))}if(invalidOrder)return this.invalidError(this.errorDefaults.invalidParenthesesOrder());resolve()}},{key:"_createParenthesesScopes",value:function(resolve,_,ctx){ctx.scopeOrder=[],function reducer(arr){var openIndex=null;for(var i=0;i<arr.length;i++){var item=arr[i];if("("===item)openIndex=i;else if(")"===item){var scope=new class_formula_Scope(arr,openIndex,i);arr.splice(openIndex,0,scope),ctx.scopeOrder.push(scope),reducer(arr)}else if(/^\s*$/.test(item)){arr.splice(i,1),i--;continue}}}(ctx.allCollection),ctx.scopeOrder.push(new class_formula_Scope(ctx.allCollection)),resolve()}},{key:"_resolveParenthesesScopes",value:function(resolve,reject,ctx){var forkList=[],innerList=[this,"_splitEquation","_parseDigitsChars","_validateScopeElements","_computeScope"],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_loop=function(){var scope=_step3.value;forkList.push(function(resolve,reject){var context={root:ctx,scopeEquation:scope};src_default()([innerList],{context:context,timeout:null},resolve,function(ctx,err){return reject(err)})})},_iterator3=ctx.scopeOrder[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0)_loop()}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}src_default.a.all(forkList,{context:ctx,timeout:null},function(reject,ctx){var result=ctx.scopeOrder[ctx.scopeOrder.length-1].result;return result.removeE(),resolve(result)},function(ctx,err){return reject(err)})}},{key:"_splitEquation",value:function(resolve,_,ctx){var equationItems=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=ctx.scopeEquation.elements[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var item=_step4.value;of_type_min_default()(item,String)?equationItems.push.apply(equationItems,class_formula_toConsumableArray(item.match(ctx.root.reg.split))):equationItems.push(item)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}ctx.equationItems=equationItems,resolve()}},{key:"_parseDigitsChars",value:function(resolve,reject,ctx){for(var _this2=this,collection=[],_loop2=function(i){var item=collectionVariables(ctx.equationItems,i).item;if(of_type_min_default()(item,class_formula_Scope))return collection.push(item),"continue";var digit=item.match(ctx.root.reg.digitRegExp);if(digit)return collection.push(new class_digit(digit[0])),"continue";var char=item.match(ctx.root.reg.charsRegExp);return char?(char.some(function(item,index){var found=index>0&&item;return found&&collection.push(new Char(char[0],["add","sub","mul","div"][index-1])),found}),"continue"):{v:reject({type:_this2.invalidError,error:_this2.errorDefaults.illegalCombination,args:[ctx.scopeEquation.print,item]})}},i=0;i<ctx.equationItems.length;i++){var _ret=_loop2(i);switch(_ret){case"continue":continue;default:if("object"===class_formula_typeof(_ret))return _ret.v}}ctx.collection=collection,resolve()}},{key:"_validateScopeElements",value:function(resolve,reject,ctx){for(var i=0;i<ctx.collection.length;i++){var _collectionVariables2=collectionVariables(ctx.collection,i),item=_collectionVariables2.item,previous=_collectionVariables2.previous,next=_collectionVariables2.next,first=_collectionVariables2.first,last=_collectionVariables2.last;if(of_type_min_default()(item,class_digit)){if(of_type_min_default()(next,class_digit))return reject({type:this.invalidError,error:this.errorDefaults.illegalCombination,args:[ctx.scopeEquation.print,item.print+next.print]});of_type_min_default()(next,class_formula_Scope)&&ctx.collection.splice(++i,0,new Char("*","mul"))}else if(of_type_min_default()(item,Char))switch(!0){case first&&(item.div||item.mul||of_type_min_default()(next,Char))||of_type_min_default()(previous,Char)&&of_type_min_default()(next,Char):case last:case first&&!item.adjacent&&of_type_min_default()(next,class_digit):case of_type_min_default()(next,Char)&&(next.mul||next.div||!next.digitChar):return reject({type:this.invalidError,error:this.errorDefaults.illegalCombination,args:[ctx.scopeEquation.print,(first?"":previous.print)+item.print+(last?"":next.print)]});case first||of_type_min_default()(previous,Char):item.sub&&of_type_min_default()(next,class_digit)&&next.negate(),item.sub&&of_type_min_default()(next,class_formula_Scope)&&next.result.negate(),ctx.collection.splice(i,1),i--}else of_type_min_default()(item,class_formula_Scope)&&of_type_min_default()(next,[class_formula_Scope,class_digit])&&ctx.collection.splice(++i,0,new Char("*","mul"))}resolve()}},{key:"_computeScope",value:function(resolve,reject,ctx){for(var _this3=this,i=0;i<ctx.collection.length;i++){var _collectionVariables3=collectionVariables(ctx.collection,i),item=_collectionVariables3.item,previous=_collectionVariables3.previous,next=_collectionVariables3.next;if(of_type_min_default()(item,Char)&&(item.mul||item.div)){var left=of_type_min_default()(previous,class_digit)?previous:previous.result,right=of_type_min_default()(next,class_digit)?next:next.result;if(item.mul&&ctx.collection.splice(i-1,3,new class_mul({digits:[left,right],zeroValue:left.equalsZero?0:right.equalsZero?1:-1})),item.div){var _divisionError=!1;if(ctx.collection.splice(i-1,3,new class_div({digits:[left,right],maxDecimal:this.maxDecimal,divideByZeroError:this.errorDefaults.divideByZero(ctx.scopeEquation.print),divisionError:function(_error){return _divisionError=!0,reject({type:_this3.divisionError,error:function(){return _error}})}})),_divisionError)return}i--}}for(var _i=0;_i<ctx.collection.length;_i++){var _collectionVariables4=collectionVariables(ctx.collection,_i);item=_collectionVariables4.item,previous=_collectionVariables4.previous,next=_collectionVariables4.next;if(of_type_min_default()(item,Char)&&(item.add||item.sub)){var _left=of_type_min_default()(previous,class_digit)?previous:previous.result,_right=of_type_min_default()(next,class_digit)?next:next.result;item.add&&ctx.collection.splice(_i-1,3,new class_add({digits:[_left,_right]})),item.sub&&ctx.collection.splice(_i-1,3,new class_sub({digits:[_left,_right]})),_i--}}if(!ctx.collection.length)return reject({type:this.invalidError,error:this.errorDefaults.emptyParentheses});ctx.scopeEquation.result=of_type_min_default()(ctx.collection[0],class_digit)?ctx.collection[0]:ctx.collection[0].result,resolve()}},{key:"signDescriptor",get:function(){return{div:"division",mul:"multiplication",add:"addition",sub:"subtraction"}}},{key:"errorDefaults",get:function(){return{emptyFormula:function(){return new Error("The [String] formula cannot be empty.")},missingParenthesis:function(missing,num){return new Error("The ".concat(num," ").concat(missing," parenthes").concat(num>1?"es are":"is is"," missing in the [String] formula."))},invalidParenthesesOrder:function(){return new Error("The closing parenthesis has been placed before the opening parenthesis in the [String] formula.")},illegalCharacter:function(char){return new Error("The [String] formula contains illegal character ".concat(char))},illegalCombination:function(scope,combination){return new Error("Invalid '".concat(scope,"' expression. It contains illegal combination: '").concat(combination,"'."))},emptyParentheses:function(){return new Error("The [String] formula cannot contain empty parentheses scope.")},divideByZero:function(scope){return new Error("Invalid '".concat(scope,"' expression. The division by zero is not allowed."))}}}}]),Formula}();function exact_math_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function exact_math_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function exact_math_createClass(Constructor,protoProps,staticProps){return protoProps&&exact_math_defineProperties(Constructor.prototype,protoProps),staticProps&&exact_math_defineProperties(Constructor,staticProps),Constructor}__webpack_exports__.default=new(function(){function ExactMath(){exact_math_classCallCheck(this,ExactMath)}return exact_math_createClass(ExactMath,[{key:"add",value:function(){return new exact_math_ExactMath(arguments,"add")._algebra()}},{key:"sub",value:function(){return new exact_math_ExactMath(arguments,"sub")._algebra()}},{key:"mul",value:function(){return new exact_math_ExactMath(arguments,"mul")._algebra()}},{key:"div",value:function(){return new exact_math_ExactMath(arguments,"div")._algebra()}},{key:"formula",value:function(){return new exact_math_ExactMath(arguments,"formula")._formula()}},{key:"round",value:function(){return new exact_math_ExactMath(arguments,"round")._rounding()}},{key:"ceil",value:function(){return new exact_math_ExactMath(arguments,"ceil")._rounding()}},{key:"floor",value:function(){return new exact_math_ExactMath(arguments,"floor")._rounding()}},{key:"pow",value:function(){return new exact_math_ExactMath(arguments,"pow")._power()}}]),ExactMath}());var exact_math_ExactMath=function(){function _ExactMath(getArguments,mode){function charValidation(value,map){if(of_type_min_default()(value,String)){var userKey=value;if(!map.has(userKey))return map;map.forEach(function(_,mapKey){return map.set(mapKey,userKey===mapKey)})}if(of_type_min_default()(value,Array)){var userKeys=value;if(!userKeys.some(function(key){return map.has(key)}))return map;map.forEach(function(_,mapKey){return map.set(mapKey,userKeys.some(function(key){return key===mapKey}))})}return map}exact_math_classCallCheck(this,_ExactMath),this._data={mode:mode,invalidReturn:NaN,values:Array.prototype.slice.call(getArguments),zeroValue:-1,digits:[]},function(){this._data.callback=of_type_min_default()(this._data.values[this._data.values.length-1],Function)?this._data.values.pop():null}.call(this),function(){var last=this._data.values[this._data.values.length-1];this._data.userConfig=of_type_min_default()(last,Object)?this._data.values.pop():of_type_min_default()(last,Boolean)?{returnString:this._data.values.pop()}:{}}.call(this),function(){this._data.config=this.configDefaults;var configValidatorList=this.configValidatorList,userConfig=this._data.userConfig;for(var userProperty in userConfig){var userValue=userConfig[userProperty];this._data.config.hasOwnProperty(userProperty)&&configValidatorList[userProperty](userValue)&&(this._data.config[userProperty]=userValue)}}.call(this),function(){var initialChars=this.charsDefaults,userConfig=this._data.userConfig;for(var userProperty in userConfig){var userValue=userConfig[userProperty];initialChars.hasOwnProperty(userProperty)&&(initialChars[userProperty]=charValidation(userValue,initialChars[userProperty]))}delete this._data.userConfig,this._data.chars=initialChars}.call(this),function(){for(var prop in this._data.chars){var map=this._data.chars[prop],chars="";map.forEach(function(value,key){value&&(chars+=key)}),this._data.chars[prop]="".concat(chars)}}.call(this)}return exact_math_createClass(_ExactMath,[{key:"_validateValues",value:function(values){for(var validStringNumber=this.validStringNumber,i=0;i<values.length;i++){var value=values[i];if(of_type_min_default()(value,String)){if("Infinity"===value||"-Infinity"===value){var defaultError=this.errorDefaults.infinityValueError(i);return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:defaultError,argumentSet:{error:defaultError,index:i,list:this._data.values,callback:this._data.callback||void 0}})}if("NaN"===value){var _defaultError=this.errorDefaults.nanValueError(i);return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:_defaultError,argumentSet:{error:_defaultError,index:i,list:this._data.values,callback:this._data.callback||void 0}})}if(!validStringNumber.test(value)){var _defaultError2=this.errorDefaults.invalidStringValueError(i);return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:_defaultError2,argumentSet:{error:_defaultError2,index:i,list:this._data.values,callback:this._data.callback||void 0}})}}else{if(!of_type_min_default()(value,Number)){var _defaultError5=this.errorDefaults.invalidValueTypeError(i);return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:_defaultError5,argumentSet:{error:_defaultError5,index:i,list:this._data.values,callback:this._data.callback||void 0}})}if(value===1/0||value===-1/0){var _defaultError3=this.errorDefaults.infinityValueError(i);return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:_defaultError3,argumentSet:{error:_defaultError3,index:i,list:this._data.values,callback:this._data.callback||void 0}})}if(Number.isNaN(value)){var _defaultError4=this.errorDefaults.nanValueError(i);return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:_defaultError4,argumentSet:{error:_defaultError4,index:i,list:this._data.values,callback:this._data.callback||void 0}})}}findZero.call(this,value,i);var digit=new class_digit(value);this._data.digits.push(digit)}function findZero(value,index){this._data.zeroValue>=0||0==Number(value)&&(this._data.zeroValue=index)}return!0}},{key:"_algebra",value:function(){var _this=this;if(this._data.values.length<2){var defaultError=this.errorDefaults.algebraTwoValuesError();return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:defaultError,argumentSet:{error:defaultError,index:void 0,list:this._data.values,callback:this._data.callback||void 0}}),this._data.invalidReturn}if(!this._validateValues(this._data.values))return this._data.invalidReturn;switch(this._data.mode){case"add":this._data.result=new class_add({digits:this._data.digits});break;case"sub":this._data.result=new class_sub({digits:this._data.digits});break;case"mul":this._data.result=new class_mul({digits:this._data.digits,zeroValue:this._data.zeroValue});break;case"div":var _divisionError=!1;if(this._data.result=new class_div({digits:this._data.digits,maxDecimal:this._data.config.maxDecimal,divideByZeroError:this.errorDefaults.divideByZeroError,divisionError:function(error,index){_divisionError=!0;var defaultError=error(index);_this._handleErrors({errorConfig:_this._data.config.divideByZeroError,errorDefault:defaultError,argumentSet:{error:defaultError,index:index,list:_this._data.values,callback:_this._data.callback||void 0}})}}),_divisionError)return this._data.invalidReturn}return this._handleResult()}},{key:"_formula",value:function(){var _this2=this;if(1!==this._data.values.length||!of_type_min_default()(this._data.values[0],String)){var defaultError=this.errorDefaults.formulaOneParameterError();return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:defaultError,argumentSet:{error:defaultError,index:void 0,list:this._data.values,callback:this._data.callback||void 0}}),this._data.invalidReturn}var _invalidError=!1,_divisionError2=!1;return this._data.result=new class_formula({formula:this._data.values[0],chars:this._data.chars,maxDecimal:this._data.config.maxDecimal,zeroArgumentError:this.errorDefaults.divideByZero,divisionError:function(error){_divisionError2=!0,_this2._handleErrors({errorConfig:_this2._data.config.divideByZeroError,errorDefault:error,argumentSet:{error:error,index:void 0,list:_this2._data.values,callback:_this2._data.callback||void 0}})},invalidError:function(error){_invalidError=!0,_this2._handleErrors({errorConfig:_this2._data.config.invalidError,errorDefault:error,argumentSet:{error:error,index:0,list:_this2._data.values,callback:_this2._data.callback||void 0}})}}),_divisionError2||_invalidError?this._data.invalidReturn:this._handleResult()}},{key:"_rounding",value:function(){var valuesLength=this._data.values.length;if(0===valuesLength||valuesLength>2){var defaultError=this.errorDefaults.roundingTwoArgumentsError();return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:defaultError,argumentSet:{error:defaultError,index:void 0,list:this._data.values,callback:this._data.callback||void 0}}),this._data.invalidReturn}if(!this._validateValues([this._data.values[0]]))return this._data.invalidReturn;if(1===valuesLength)this._data.values.push(1);else if(!of_type_min_default()(this._data.values[1],Number)||!isInteger(this._data.values[1])){var _defaultError6=this.errorDefaults.roundingInvalidIntegerError();return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:_defaultError6,argumentSet:{error:_defaultError6,index:1,list:this._data.values,callback:this._data.callback||void 0}}),this._data.invalidReturn}var instanceData={digit:this._data.digits[0],places:this._data.values[1]};switch(this._data.mode){case"round":this._data.result=new Round(instanceData);break;case"ceil":this._data.result=new Ceil(instanceData);break;case"floor":this._data.result=new Floor(instanceData)}return this._handleResult()}},{key:"_power",value:function(){var valuesLength=this._data.values.length;if(0===valuesLength||valuesLength>2){var defaultError=this.errorDefaults.powerTwoArgumentsError();return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:defaultError,argumentSet:{error:defaultError,index:void 0,list:this._data.values,callback:this._data.callback||void 0}}),this._data.invalidReturn}if(!this._validateValues([this._data.values[0]]))return this._data.invalidReturn;if(1===valuesLength)this._data.values.push(2);else if(!(of_type_min_default()(this._data.values[1],Number)&&isInteger(this._data.values[1])&&this._data.values[1]>=0)){var _defaultError7=this.errorDefaults.powerInvalidPositiveIntegerError();return this._handleErrors({errorConfig:this._data.config.invalidError,errorDefault:_defaultError7,argumentSet:{error:_defaultError7,index:1,list:this._data.values,callback:this._data.callback||void 0}}),this._data.invalidReturn}var instanceData={digit:this._data.digits[0],power:this._data.values[1]};switch(this._data.mode){case"pow":this._data.result=new class_power(instanceData)}return this._handleResult()}},{key:"_handleErrors",value:function(_ref){var errorConfig=_ref.errorConfig,errorDefault=_ref.errorDefault,_ref$argumentSet=_ref.argumentSet,argumentSet=void 0===_ref$argumentSet?{}:_ref$argumentSet,invalid=errorConfig,globalCallback=this._data.callback;switch(!0){case of_type_min_default()(invalid,Boolean):if(!0===invalid&&!globalCallback)throw errorDefault;return globalCallback&&globalCallback(this.invalidCallbackObject(invalid?errorDefault:null)),!1;case of_type_min_default()(invalid,/.*Error/):if(!globalCallback)throw invalid;return globalCallback(this.invalidCallbackObject(invalid)),!1;case of_type_min_default()(invalid,Function):return this._data.invalidReturn=invalid(argumentSet),!1}}},{key:"_handleResult",value:function(){var config=this._data.config;(config.returnString||this._data.callback)&&this._data.result.setExponential(config.eMinus,config.ePlus);var stringResult=this._data.result.toString(),callbackObject={error:null,string:stringResult,number:Number(stringResult)};return this._data.callback&&this._data.callback(callbackObject),callbackObject[config.returnString?"string":"number"]}},{key:"configValidatorList",get:function(){var _this3=this;return{returnString:function(val){return of_type_min_default()(val,Boolean)},eMinus:function(val){return(_this3._data.callback||_this3._data.config.returnString)&&of_type_min_default()(val,Number)&&val>=0&&(isInteger(val)||val===1/0)},ePlus:function(val){return(_this3._data.callback||_this3._data.config.returnString)&&of_type_min_default()(val,Number)&&val>=0&&(isInteger(val)||val===1/0)},maxDecimal:function(val){return("div"===_this3._data.mode||"formula"===_this3._data.mode)&&of_type_min_default()(val,Number)&&val>=0&&isInteger(val)},divideByZeroError:function(val){return("div"===_this3._data.mode||"formula"===_this3._data.mode)&&of_type_min_default()(val,/(Boolean|.*Error|Function)/)},invalidError:function(val){return of_type_min_default()(val,/(Boolean|.*Error|Function)/)}}}},{key:"configDefaults",get:function(){return{returnString:!1,eMinus:7,ePlus:21,maxDecimal:17,divideByZeroError:!1,invalidError:!0}}},{key:"charsDefaults",get:function(){return{decimalChar:new Map([[".",!0],[",",!0]]),divChar:new Map([["/",!0],[":",!0],["",!0]]),mulChar:new Map([["*",!0],["x",!0],["",!0]])}}},{key:"errorDefaults",get:function(){return{algebraTwoValuesError:function(){return new Error("Set at least two [Number|String] values.")},invalidValueTypeError:function(i){return new TypeError("Incorrect argument [".concat(i,"]. The [Number|String] value is expected."))},nanValueError:function(i){return new TypeError("Incorrect argument [".concat(i,"]. The argument cannot be a NaN value."))},infinityValueError:function(i){return new TypeError("Incorrect argument [".concat(i,"]. The argument cannot be an Infinity or -Infinity value."))},invalidStringValueError:function(i){return new Error("Incorrect argument [".concat(i,"]. The [String] argument is not a valid numerical value."))},formulaOneParameterError:function(){return new Error("The one [String] formula argument is expected.")},roundingTwoArgumentsError:function(){return new Error("Two arguments are expected: [0]: [String|Number] value; [1]: [Number] decimal places integer.")},powerTwoArgumentsError:function(){return new Error("Two arguments are expected: [0]: [String|Number] value; [1]: [Number] power exponent positive integer.")},roundingInvalidIntegerError:function(){return new Error("Incorrect argument [1]. The [Number] decimal places integer is expected.")},powerInvalidPositiveIntegerError:function(){return new Error("Incorrect argument [1]. The [Number] power exponent positive integer is expected.")},divideByZeroError:function(i){return new Error("Incorrect argument [".concat(i,"]. The division by zero is not allowed."))}}}},{key:"invalidCallbackObject",get:function(){var _this4=this;return function(err){return{number:_this4._data.invalidReturn,string:_this4._data.invalidReturn,error:err}}}},{key:"validStringNumber",get:function(){return new RegExp("^([+-]?\\d*[".concat(this._data.chars.decimalChar,"]?\\d+(?:e[+-]\\d+)?)$"))}}]),_ExactMath}()}]).default;